---
apiVersion: "acid.zalan.do/v1"
kind: postgresql
metadata:
  name: immich-db
  labels:
    app.kubernetes.io/part-of: immich
spec:
  teamId: immich
  numberOfInstances: 1
  volume:
    size: 200Gi
    storageClass: ceph-application-high-performance
  users:
    immich: []
  databases:
    immich: immich
  postgresql:
    version: "16"
    parameters:
      shared_buffers: "256MB"
  resources:
    requests:
      cpu: "500m"
      memory: 1Gi
    limits:
      cpu: "2000m"
      memory: 4Gi
