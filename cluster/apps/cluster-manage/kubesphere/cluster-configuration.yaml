---
apiVersion: installer.kubesphere.io/v1alpha1
kind: ClusterConfiguration
metadata:
  name: ks-installer
  namespace: kubesphere-system
spec:
  common:
    es:
      elasticsearchMasterReplicas: 1
      elasticsearchDataReplicas: 1
      elasticsearchMasterVolumeSize: 4Gi
      elasticsearchDataVolumeSize: 20Gi
      logMaxAge: 7
      elkPrefix: logstash

  logging:
    enabled: true
    containerruntime: containerd

  events:
    enabled: true

  alerting:
    enabled: true

  auditing:
    enabled: true

  servicemesh:
    enabled: true

  network:
    topology:
      type: weave-scope

  kubeedge:
    enabled: true
    cloudCore:
      cloudHub:
        advertiseAddress:
          - "${SECRET_KUBEEDGE_CLOUDHUB_ADDRESS}"

  monitoring:
    gpu:
      nvidia_dcgm_exporter:
        enabled: true
